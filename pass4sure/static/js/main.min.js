svg4everybody();

// ============================================================ footer
// (function () {
//   var isIE11 = !!window.MSInputMethodContext && !!document.documentMode;

//   var stickFooter = function () {
//     var FOOTER = document.querySelector('footer');
//     var MAIN = document.querySelector('.content');
//     var BODY = document.querySelector('body');
//     var footerHeight = FOOTER.offsetHeight;
//     BODY.style.position = 'relative';
//     MAIN.style.marginBottom = footerHeight + 'px';
//     FOOTER.style.position = 'absolute';
//     FOOTER.style.bottom = '0';
//     FOOTER.style.left = '0';
//     FOOTER.style.width = '100%';
//   };

//   if (isIE11) {
//     stickFooter();
//     window.addEventListener('resize', stickFooter);
//   }
// })();

// ========================================================== hamburger

$('.header__hamburger-search-box .header__button-hamburger').click(function () {
  $('.header__main-nav').addClass('active');
  $('body').css('overflow-y', 'hidden');
})

$('.header__main-nav .header__button-hamburger').click(function () {
  $('.header__main-nav').removeClass('active');
  $('body').css('overflow-y', 'visible');
})

$(window).resize(function () {
  if ($('.header__hamburger-search-box').css('display') == 'none') {
    $('.header__main-nav').removeClass('active');
    $('body').css('overflow-y', 'visible');
  }
})


// =========================================================== search form

$('.header__button-open-search').click(function () {
  $('.header__bottom').toggleClass('active');
})

headerMainSearchVisible();

$(window).resize(headerMainSearchVisible);

function headerMainSearchVisible() {
  if ($('.header__top .header__search-form').css('display') == 'flex') {
    $('.header__bottom').removeClass('active');
  }
};

// search button start
let searchFormInput = document.querySelectorAll('.search-form__input');
let searchFormButton = document.querySelectorAll('.search-form__button');

for (let i = 0; i < searchFormInput.length; i++) {
  searchFormInput[i].addEventListener('focus', function () {
    searchFormButton[i].style.display = 'block';
  })
  searchFormInput[i].addEventListener('blur', function () {
    searchFormButton[i].style.display = 'none';
  })
}


// =============================================================== tabs

let tabItemArray = document.querySelectorAll('.tab__item');
let solContentList = document.querySelectorAll('.sol-content__list');

function activate(event, number) {

  for (let i = 0; i < tabItemArray.length; i++) {
    tabItemArray[i].classList.remove('active');
  }

  tabItemArray[number].classList.add('active');


  for (let ii = 0; ii < solContentList.length; ii++) {
    solContentList[ii].style.display = 'none';
  }
  solContentList[number].style.display = 'block';
}


// ather
$('form').prop('autocomplete', 'off');

// modal-deme submi
// $('.modal-demo .modal__btn').click(function() {
//   submit();
// })


// ================================================================= slick page index
if ($('.features .reviews__list').length) {
  reviewListSlick();
}

$(window).resize(function () {
  if ($('.features .reviews__list').length) {
    reviewListSlick();
  }
})

function reviewListSlick() {
  $('.features .reviews__list').slick({
    accessibility: false,
    arrows: false,
    dots: true,
    appendDots: $('.reviews__dots'),
    dotsClass: 'reviews__dots-list',
    responsive: [{
      breakpoint: 577,
      settings: "unslick"
    }]
  });
}






// =================================================== product

// modal
// $('.product__btn-cart').click(function() {
//   fadeInModal('.modal-discount');
// })

$('.product__btn-demo').click(function () {
  fadeInModal('.modal-demo');
})


function fadeInModal(modal) {
  $('body').css('overflow-y', 'hidden');

  $(modal).fadeIn(200);

  $('.modal__content').click(function (e) {
    e.stopPropagation();
  })

  $('.modal__close').click(function () {
    fadeOutModal();
  })

  $('.modal').click(function () {
    fadeOutModal();
  })

  function fadeOutModal() {
    $('.modal').fadeOut(200);
    $('body').css('overflow-y', 'scroll');
  }
}

// ============================================================== product checkbox
$('.product__tr').click(function (e) {
  e.preventDefault();
  $('.product__tr').removeClass('product__tr_select');
  $(this).addClass('product__tr_select');
  $(this).find('.product__radio')[0].checked = true;
})


// ================================================================ initSlick
for(let i = 0; i < 201; i++) {
  let sl = '.sl-' + i;
  initSlick(sl);
}

function initSlick(sl) {
  let cl = '.courses__list';
  let slcl = sl + ' ' + cl;
  let sldots = sl + ' .reviews__dots'

  $(slcl).slick({
    accessibility: false,
    dots: true,
    // infinite: false,
    slidesToShow: 4,
    appendDots: sldots,
    dotsClass: 'reviews__dots-list',
    prevArrow: '<button type="button" class="slick-prev"><img src="/public/images/icon/arrow.svg"></button>',
    nextArrow: '<button type="button" class="slick-next"><img src="/public/images/icon/arrow.svg"></button>',
    // prevArrow: '<button type="button" class="slick-prev"><img src="static/img/icon/arrow.svg"></button>',
    // nextArrow: '<button type="button" class="slick-next"><img src="static/img/icon/arrow.svg"></button>',
    responsive: [{
        breakpoint: 1420,
        settings: {
          slidesToShow: 3,
        }
      },
      {
        breakpoint: 1121,
        settings: {
          slidesToShow: 2,
        }
      },
      {
        breakpoint: 780,
        settings: {
          slidesToShow: 2,
          arrows: false,
        }
      },
      {
        breakpoint: 651,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          arrows: false,
          centerPadding: '150px'
        }
      },
      {
        breakpoint: 610,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          arrows: false,
          centerPadding: '130px'
        }
      },
      {
        breakpoint: 577,
        settings: {
          centerMode: true,
          slidesToShow: 2,
          arrows: false,
          centerPadding: '60px',
        }
      },
      {
        breakpoint: 520,
        settings: {
          centerMode: true,
          slidesToShow: 2,
          arrows: false,
          centerPadding: '30px',
        }
      },
      {
        breakpoint: 480,
        settings: {
          centerMode: true,
          slidesToShow: 1,
          arrows: false,
          centerPadding: '120px',
        }
      },

      {
        breakpoint: 440,
        settings: {
          centerMode: true,
          slidesToShow: 1,
          arrows: false,
          centerPadding: '27%',
        }
      },
      {
        breakpoint: 410,
        settings: {
          centerMode: true,
          slidesToShow: 1,
          arrows: false,
          centerPadding: '25%',
        }
      },
      {
        breakpoint: 380,
        settings: {
          centerMode: true,
          slidesToShow: 1,
          arrows: false,
          centerPadding: '22%',
        }
      },
      {
        breakpoint: 350,
        settings: {
          slidesToShow: 1,
          arrows: false,
          centerMode: true,
          centerPadding: '20%',
        }
      },
    ]
  })

}

initSlickV2('.sl2-0');

function initSlickV2(sl) {
  let cl = '.for-this__list';
  let slcl = sl + ' ' + cl;
  let sldots = sl + ' .reviews__dots'

  $(slcl).slick({
    accessibility: false,
    dots: true,
    slidesToShow: 6,
    // infinite: false,
    appendDots: sldots,
    dotsClass: 'reviews__dots-list',
    prevArrow: '<button type="button" class="slick-prev"><img src="/public/images/icon/arrow.svg"></button>',
    nextArrow: '<button type="button" class="slick-next"><img src="/public/images/icon/arrow.svg"></button>',
    // prevArrow: '<button type="button" class="slick-prev"><img src="static/img/icon/arrow.svg"></button>',
    // nextArrow: '<button type="button" class="slick-next"><img src="static/img/icon/arrow.svg"></button>',
    responsive: [{
        breakpoint: 1420,
        settings: {
          slidesToShow: 5,
        }
      },
      {
        breakpoint: 1231,
        settings: {
          slidesToShow: 4,
        }
      },
      {
        breakpoint: 998,
        settings: {
          slidesToShow: 3,
        }
      },
      {
        breakpoint: 780,
        settings: {
          slidesToShow: 3,
          arrows: false,
        }
      },
      {
        breakpoint: 651,
        settings: {
          slidesToShow: 2,
          arrows: false,
        }
      },
      {
        breakpoint: 431,
        settings: {
          slidesToShow: 1,
          arrows: false,
          // centerMode: true,
          // centerPadding: '100px'
        }
      },
    ]
  })

}


$('.reviews__dots-list li button').empty();

$(window).resize(function () {
  $('.reviews__dots-list li button').empty();
})


// обрезать строку

trimString(".for-this__h3", 65);

function trimString(string, stringLength) {
  $(string).text(function(i, text) {
    if (text.length >= stringLength) {
      stringLength -= 5;
      text = text.substring(0, stringLength);
      var lastIndex = text.lastIndexOf(" ");       // позиция последнего пробела
      text = text.substring(0, lastIndex) + '...'; // обрезаем до последнего слова
    }
  
    $(this).text(text);
  
  });
}




// rotate btn load more
$('.certific__btn-more').click(function () {
  $(this).addClass('active');

  setTimeout(function () {
    $(this).removeClass('active');
  }.bind(this), 2000);
})



// tab for-this
$('.for-this__list').on('click', '.for-this__item', function() {
  $('.for-this__item').removeClass('active');
  $(this).addClass('active');
  let idThisItem = $(this).data('id');

  switchTreckList(idThisItem);
});

function switchTreckList(id) {
  id += '';
  
  if($('.track').css('display') === 'none') {
    $('.track').fadeIn(400);
  }

  $('.track__list').hide();

  var trackList = '.track__list' + '[data-id=' +  id + ']';

  $(trackList).fadeIn(300);
};


// cert-all
$('.vendor__top').on('click', function() {
  $(this).closest('.vendor__item').click();
}) 

$('.vendor__item').on('click', function(e) {
  if(e.target.className == 'vendor__item') {
    $(this).find('.vendor__number').hide();
    $(this).find('.vendor__item-close').show();
    $(this).find('.vendor__cert').slideDown();
    $(this).addClass('active');
  } 
})


$('.vendor__item-close').on('click', function() {
  let vendorItem = $(this).closest('.vendor__item');

  vendorItem.removeClass('active');
  vendorItem.find('.vendor__number').show();
  vendorItem.find('.vendor__item-close').hide();
  vendorItem.find('.vendor__cert').slideUp();
})
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInN2ZzRldmVyeWJvZHkoKTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBmb290ZXJcclxuLy8gKGZ1bmN0aW9uICgpIHtcclxuLy8gICB2YXIgaXNJRTExID0gISF3aW5kb3cuTVNJbnB1dE1ldGhvZENvbnRleHQgJiYgISFkb2N1bWVudC5kb2N1bWVudE1vZGU7XHJcblxyXG4vLyAgIHZhciBzdGlja0Zvb3RlciA9IGZ1bmN0aW9uICgpIHtcclxuLy8gICAgIHZhciBGT09URVIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb290ZXInKTtcclxuLy8gICAgIHZhciBNQUlOID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcclxuLy8gICAgIHZhciBCT0RZID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG4vLyAgICAgdmFyIGZvb3RlckhlaWdodCA9IEZPT1RFUi5vZmZzZXRIZWlnaHQ7XHJcbi8vICAgICBCT0RZLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuLy8gICAgIE1BSU4uc3R5bGUubWFyZ2luQm90dG9tID0gZm9vdGVySGVpZ2h0ICsgJ3B4JztcclxuLy8gICAgIEZPT1RFUi5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbi8vICAgICBGT09URVIuc3R5bGUuYm90dG9tID0gJzAnO1xyXG4vLyAgICAgRk9PVEVSLnN0eWxlLmxlZnQgPSAnMCc7XHJcbi8vICAgICBGT09URVIuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbi8vICAgfTtcclxuXHJcbi8vICAgaWYgKGlzSUUxMSkge1xyXG4vLyAgICAgc3RpY2tGb290ZXIoKTtcclxuLy8gICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzdGlja0Zvb3Rlcik7XHJcbi8vICAgfVxyXG4vLyB9KSgpO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBoYW1idXJnZXJcclxuXHJcbiQoJy5oZWFkZXJfX2hhbWJ1cmdlci1zZWFyY2gtYm94IC5oZWFkZXJfX2J1dHRvbi1oYW1idXJnZXInKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgJCgnLmhlYWRlcl9fbWFpbi1uYXYnKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cteScsICdoaWRkZW4nKTtcclxufSlcclxuXHJcbiQoJy5oZWFkZXJfX21haW4tbmF2IC5oZWFkZXJfX2J1dHRvbi1oYW1idXJnZXInKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgJCgnLmhlYWRlcl9fbWFpbi1uYXYnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cteScsICd2aXNpYmxlJyk7XHJcbn0pXHJcblxyXG4kKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICBpZiAoJCgnLmhlYWRlcl9faGFtYnVyZ2VyLXNlYXJjaC1ib3gnKS5jc3MoJ2Rpc3BsYXknKSA9PSAnbm9uZScpIHtcclxuICAgICQoJy5oZWFkZXJfX21haW4tbmF2JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cteScsICd2aXNpYmxlJyk7XHJcbiAgfVxyXG59KVxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IHNlYXJjaCBmb3JtXHJcblxyXG4kKCcuaGVhZGVyX19idXR0b24tb3Blbi1zZWFyY2gnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgJCgnLmhlYWRlcl9fYm90dG9tJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG59KVxyXG5cclxuaGVhZGVyTWFpblNlYXJjaFZpc2libGUoKTtcclxuXHJcbiQod2luZG93KS5yZXNpemUoaGVhZGVyTWFpblNlYXJjaFZpc2libGUpO1xyXG5cclxuZnVuY3Rpb24gaGVhZGVyTWFpblNlYXJjaFZpc2libGUoKSB7XHJcbiAgaWYgKCQoJy5oZWFkZXJfX3RvcCAuaGVhZGVyX19zZWFyY2gtZm9ybScpLmNzcygnZGlzcGxheScpID09ICdmbGV4Jykge1xyXG4gICAgJCgnLmhlYWRlcl9fYm90dG9tJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIHNlYXJjaCBidXR0b24gc3RhcnRcclxubGV0IHNlYXJjaEZvcm1JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWFyY2gtZm9ybV9faW5wdXQnKTtcclxubGV0IHNlYXJjaEZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VhcmNoLWZvcm1fX2J1dHRvbicpO1xyXG5cclxuZm9yIChsZXQgaSA9IDA7IGkgPCBzZWFyY2hGb3JtSW5wdXQubGVuZ3RoOyBpKyspIHtcclxuICBzZWFyY2hGb3JtSW5wdXRbaV0uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBzZWFyY2hGb3JtQnV0dG9uW2ldLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gIH0pXHJcbiAgc2VhcmNoRm9ybUlucHV0W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBzZWFyY2hGb3JtQnV0dG9uW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfSlcclxufVxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSB0YWJzXHJcblxyXG5sZXQgdGFiSXRlbUFycmF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYl9faXRlbScpO1xyXG5sZXQgc29sQ29udGVudExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc29sLWNvbnRlbnRfX2xpc3QnKTtcclxuXHJcbmZ1bmN0aW9uIGFjdGl2YXRlKGV2ZW50LCBudW1iZXIpIHtcclxuXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YWJJdGVtQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgIHRhYkl0ZW1BcnJheVtpXS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICB9XHJcblxyXG4gIHRhYkl0ZW1BcnJheVtudW1iZXJdLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cclxuXHJcbiAgZm9yIChsZXQgaWkgPSAwOyBpaSA8IHNvbENvbnRlbnRMaXN0Lmxlbmd0aDsgaWkrKykge1xyXG4gICAgc29sQ29udGVudExpc3RbaWldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfVxyXG4gIHNvbENvbnRlbnRMaXN0W251bWJlcl0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbn1cclxuXHJcblxyXG4vLyBhdGhlclxyXG4kKCdmb3JtJykucHJvcCgnYXV0b2NvbXBsZXRlJywgJ29mZicpO1xyXG5cclxuLy8gbW9kYWwtZGVtZSBzdWJtaVxyXG4vLyAkKCcubW9kYWwtZGVtbyAubW9kYWxfX2J0bicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4vLyAgIHN1Ym1pdCgpO1xyXG4vLyB9KVxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IHNsaWNrIHBhZ2UgaW5kZXhcclxuaWYgKCQoJy5mZWF0dXJlcyAucmV2aWV3c19fbGlzdCcpLmxlbmd0aCkge1xyXG4gIHJldmlld0xpc3RTbGljaygpO1xyXG59XHJcblxyXG4kKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uICgpIHtcclxuICBpZiAoJCgnLmZlYXR1cmVzIC5yZXZpZXdzX19saXN0JykubGVuZ3RoKSB7XHJcbiAgICByZXZpZXdMaXN0U2xpY2soKTtcclxuICB9XHJcbn0pXHJcblxyXG5mdW5jdGlvbiByZXZpZXdMaXN0U2xpY2soKSB7XHJcbiAgJCgnLmZlYXR1cmVzIC5yZXZpZXdzX19saXN0Jykuc2xpY2soe1xyXG4gICAgYWNjZXNzaWJpbGl0eTogZmFsc2UsXHJcbiAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgZG90czogdHJ1ZSxcclxuICAgIGFwcGVuZERvdHM6ICQoJy5yZXZpZXdzX19kb3RzJyksXHJcbiAgICBkb3RzQ2xhc3M6ICdyZXZpZXdzX19kb3RzLWxpc3QnLFxyXG4gICAgcmVzcG9uc2l2ZTogW3tcclxuICAgICAgYnJlYWtwb2ludDogNTc3LFxyXG4gICAgICBzZXR0aW5nczogXCJ1bnNsaWNrXCJcclxuICAgIH1dXHJcbiAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IHByb2R1Y3RcclxuXHJcbi8vIG1vZGFsXHJcbi8vICQoJy5wcm9kdWN0X19idG4tY2FydCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4vLyAgIGZhZGVJbk1vZGFsKCcubW9kYWwtZGlzY291bnQnKTtcclxuLy8gfSlcclxuXHJcbiQoJy5wcm9kdWN0X19idG4tZGVtbycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICBmYWRlSW5Nb2RhbCgnLm1vZGFsLWRlbW8nKTtcclxufSlcclxuXHJcblxyXG5mdW5jdGlvbiBmYWRlSW5Nb2RhbChtb2RhbCkge1xyXG4gICQoJ2JvZHknKS5jc3MoJ292ZXJmbG93LXknLCAnaGlkZGVuJyk7XHJcblxyXG4gICQobW9kYWwpLmZhZGVJbigyMDApO1xyXG5cclxuICAkKCcubW9kYWxfX2NvbnRlbnQnKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICB9KVxyXG5cclxuICAkKCcubW9kYWxfX2Nsb3NlJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgZmFkZU91dE1vZGFsKCk7XHJcbiAgfSlcclxuXHJcbiAgJCgnLm1vZGFsJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgZmFkZU91dE1vZGFsKCk7XHJcbiAgfSlcclxuXHJcbiAgZnVuY3Rpb24gZmFkZU91dE1vZGFsKCkge1xyXG4gICAgJCgnLm1vZGFsJykuZmFkZU91dCgyMDApO1xyXG4gICAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cteScsICdzY3JvbGwnKTtcclxuICB9XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IHByb2R1Y3QgY2hlY2tib3hcclxuJCgnLnByb2R1Y3RfX3RyJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgJCgnLnByb2R1Y3RfX3RyJykucmVtb3ZlQ2xhc3MoJ3Byb2R1Y3RfX3RyX3NlbGVjdCcpO1xyXG4gICQodGhpcykuYWRkQ2xhc3MoJ3Byb2R1Y3RfX3RyX3NlbGVjdCcpO1xyXG4gICQodGhpcykuZmluZCgnLnByb2R1Y3RfX3JhZGlvJylbMF0uY2hlY2tlZCA9IHRydWU7XHJcbn0pXHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBpbml0U2xpY2tcclxuZm9yKGxldCBpID0gMDsgaSA8IDIwMTsgaSsrKSB7XHJcbiAgbGV0IHNsID0gJy5zbC0nICsgaTtcclxuICBpbml0U2xpY2soc2wpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0U2xpY2soc2wpIHtcclxuICBsZXQgY2wgPSAnLmNvdXJzZXNfX2xpc3QnO1xyXG4gIGxldCBzbGNsID0gc2wgKyAnICcgKyBjbDtcclxuICBsZXQgc2xkb3RzID0gc2wgKyAnIC5yZXZpZXdzX19kb3RzJ1xyXG5cclxuICAkKHNsY2wpLnNsaWNrKHtcclxuICAgIGFjY2Vzc2liaWxpdHk6IGZhbHNlLFxyXG4gICAgZG90czogdHJ1ZSxcclxuICAgIC8vIGluZmluaXRlOiBmYWxzZSxcclxuICAgIHNsaWRlc1RvU2hvdzogNCxcclxuICAgIGFwcGVuZERvdHM6IHNsZG90cyxcclxuICAgIGRvdHNDbGFzczogJ3Jldmlld3NfX2RvdHMtbGlzdCcsXHJcbiAgICBwcmV2QXJyb3c6ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNsaWNrLXByZXZcIj48aW1nIHNyYz1cIi9wdWJsaWMvaW1hZ2VzL2ljb24vYXJyb3cuc3ZnXCI+PC9idXR0b24+JyxcclxuICAgIG5leHRBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stbmV4dFwiPjxpbWcgc3JjPVwiL3B1YmxpYy9pbWFnZXMvaWNvbi9hcnJvdy5zdmdcIj48L2J1dHRvbj4nLFxyXG4gICAgLy8gcHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1wcmV2XCI+PGltZyBzcmM9XCJzdGF0aWMvaW1nL2ljb24vYXJyb3cuc3ZnXCI+PC9idXR0b24+JyxcclxuICAgIC8vIG5leHRBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stbmV4dFwiPjxpbWcgc3JjPVwic3RhdGljL2ltZy9pY29uL2Fycm93LnN2Z1wiPjwvYnV0dG9uPicsXHJcbiAgICByZXNwb25zaXZlOiBbe1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDE0MjAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiAxMTIxLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogNzgwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDY1MSxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMTUwcHgnXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogNjEwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICcxMzBweCdcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA1NzcsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgICAgY2VudGVyUGFkZGluZzogJzYwcHgnLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDUyMCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcclxuICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMzBweCcsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogNDgwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICcxMjBweCcsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDQ0MCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMjclJyxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA0MTAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgICAgY2VudGVyUGFkZGluZzogJzI1JScsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogMzgwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICcyMiUnLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDM1MCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMjAlJyxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICBdXHJcbiAgfSlcclxuXHJcbn1cclxuXHJcbmluaXRTbGlja1YyKCcuc2wyLTAnKTtcclxuXHJcbmZ1bmN0aW9uIGluaXRTbGlja1YyKHNsKSB7XHJcbiAgbGV0IGNsID0gJy5mb3ItdGhpc19fbGlzdCc7XHJcbiAgbGV0IHNsY2wgPSBzbCArICcgJyArIGNsO1xyXG4gIGxldCBzbGRvdHMgPSBzbCArICcgLnJldmlld3NfX2RvdHMnXHJcblxyXG4gICQoc2xjbCkuc2xpY2soe1xyXG4gICAgYWNjZXNzaWJpbGl0eTogZmFsc2UsXHJcbiAgICBkb3RzOiB0cnVlLFxyXG4gICAgc2xpZGVzVG9TaG93OiA2LFxyXG4gICAgLy8gaW5maW5pdGU6IGZhbHNlLFxyXG4gICAgYXBwZW5kRG90czogc2xkb3RzLFxyXG4gICAgZG90c0NsYXNzOiAncmV2aWV3c19fZG90cy1saXN0JyxcclxuICAgIHByZXZBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stcHJldlwiPjxpbWcgc3JjPVwiL3B1YmxpYy9pbWFnZXMvaWNvbi9hcnJvdy5zdmdcIj48L2J1dHRvbj4nLFxyXG4gICAgbmV4dEFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1uZXh0XCI+PGltZyBzcmM9XCIvcHVibGljL2ltYWdlcy9pY29uL2Fycm93LnN2Z1wiPjwvYnV0dG9uPicsXHJcbiAgICAvLyBwcmV2QXJyb3c6ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNsaWNrLXByZXZcIj48aW1nIHNyYz1cInN0YXRpYy9pbWcvaWNvbi9hcnJvdy5zdmdcIj48L2J1dHRvbj4nLFxyXG4gICAgLy8gbmV4dEFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1uZXh0XCI+PGltZyBzcmM9XCJzdGF0aWMvaW1nL2ljb24vYXJyb3cuc3ZnXCI+PC9idXR0b24+JyxcclxuICAgIHJlc3BvbnNpdmU6IFt7XHJcbiAgICAgICAgYnJlYWtwb2ludDogMTQyMCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiA1LFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDEyMzEsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogNCxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA5OTgsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA3ODAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcclxuICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogNjUxLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDQzMSxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgIC8vIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICAvLyBjZW50ZXJQYWRkaW5nOiAnMTAwcHgnXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgXVxyXG4gIH0pXHJcblxyXG59XHJcblxyXG5cclxuJCgnLnJldmlld3NfX2RvdHMtbGlzdCBsaSBidXR0b24nKS5lbXB0eSgpO1xyXG5cclxuJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbiAoKSB7XHJcbiAgJCgnLnJldmlld3NfX2RvdHMtbGlzdCBsaSBidXR0b24nKS5lbXB0eSgpO1xyXG59KVxyXG5cclxuXHJcbi8vINC+0LHRgNC10LfQsNGC0Ywg0YHRgtGA0L7QutGDXHJcblxyXG50cmltU3RyaW5nKFwiLmZvci10aGlzX19oM1wiLCA2NSk7XHJcblxyXG5mdW5jdGlvbiB0cmltU3RyaW5nKHN0cmluZywgc3RyaW5nTGVuZ3RoKSB7XHJcbiAgJChzdHJpbmcpLnRleHQoZnVuY3Rpb24oaSwgdGV4dCkge1xyXG4gICAgaWYgKHRleHQubGVuZ3RoID49IHN0cmluZ0xlbmd0aCkge1xyXG4gICAgICBzdHJpbmdMZW5ndGggLT0gNTtcclxuICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIHN0cmluZ0xlbmd0aCk7XHJcbiAgICAgIHZhciBsYXN0SW5kZXggPSB0ZXh0Lmxhc3RJbmRleE9mKFwiIFwiKTsgICAgICAgLy8g0L/QvtC30LjRhtC40Y8g0L/QvtGB0LvQtdC00L3QtdCz0L4g0L/RgNC+0LHQtdC70LBcclxuICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIGxhc3RJbmRleCkgKyAnLi4uJzsgLy8g0L7QsdGA0LXQt9Cw0LXQvCDQtNC+INC/0L7RgdC70LXQtNC90LXQs9C+INGB0LvQvtCy0LBcclxuICAgIH1cclxuICBcclxuICAgICQodGhpcykudGV4dCh0ZXh0KTtcclxuICBcclxuICB9KTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuLy8gcm90YXRlIGJ0biBsb2FkIG1vcmVcclxuJCgnLmNlcnRpZmljX19idG4tbW9yZScpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuXHJcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICB9LmJpbmQodGhpcyksIDIwMDApO1xyXG59KVxyXG5cclxuXHJcblxyXG4vLyB0YWIgZm9yLXRoaXNcclxuJCgnLmZvci10aGlzX19saXN0Jykub24oJ2NsaWNrJywgJy5mb3ItdGhpc19faXRlbScsIGZ1bmN0aW9uKCkge1xyXG4gICQoJy5mb3ItdGhpc19faXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICBsZXQgaWRUaGlzSXRlbSA9ICQodGhpcykuZGF0YSgnaWQnKTtcclxuXHJcbiAgc3dpdGNoVHJlY2tMaXN0KGlkVGhpc0l0ZW0pO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHN3aXRjaFRyZWNrTGlzdChpZCkge1xyXG4gIGlkICs9ICcnO1xyXG4gIFxyXG4gIGlmKCQoJy50cmFjaycpLmNzcygnZGlzcGxheScpID09PSAnbm9uZScpIHtcclxuICAgICQoJy50cmFjaycpLmZhZGVJbig0MDApO1xyXG4gIH1cclxuXHJcbiAgJCgnLnRyYWNrX19saXN0JykuaGlkZSgpO1xyXG5cclxuICB2YXIgdHJhY2tMaXN0ID0gJy50cmFja19fbGlzdCcgKyAnW2RhdGEtaWQ9JyArICBpZCArICddJztcclxuXHJcbiAgJCh0cmFja0xpc3QpLmZhZGVJbigzMDApO1xyXG59O1xyXG5cclxuXHJcbi8vIGNlcnQtYWxsXHJcbiQoJy52ZW5kb3JfX3RvcCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICQodGhpcykuY2xvc2VzdCgnLnZlbmRvcl9faXRlbScpLmNsaWNrKCk7XHJcbn0pIFxyXG5cclxuJCgnLnZlbmRvcl9faXRlbScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICBpZihlLnRhcmdldC5jbGFzc05hbWUgPT0gJ3ZlbmRvcl9faXRlbScpIHtcclxuICAgICQodGhpcykuZmluZCgnLnZlbmRvcl9fbnVtYmVyJykuaGlkZSgpO1xyXG4gICAgJCh0aGlzKS5maW5kKCcudmVuZG9yX19pdGVtLWNsb3NlJykuc2hvdygpO1xyXG4gICAgJCh0aGlzKS5maW5kKCcudmVuZG9yX19jZXJ0Jykuc2xpZGVEb3duKCk7XHJcbiAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICB9IFxyXG59KVxyXG5cclxuXHJcbiQoJy52ZW5kb3JfX2l0ZW0tY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICBsZXQgdmVuZG9ySXRlbSA9ICQodGhpcykuY2xvc2VzdCgnLnZlbmRvcl9faXRlbScpO1xyXG5cclxuICB2ZW5kb3JJdGVtLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICB2ZW5kb3JJdGVtLmZpbmQoJy52ZW5kb3JfX251bWJlcicpLnNob3coKTtcclxuICB2ZW5kb3JJdGVtLmZpbmQoJy52ZW5kb3JfX2l0ZW0tY2xvc2UnKS5oaWRlKCk7XHJcbiAgdmVuZG9ySXRlbS5maW5kKCcudmVuZG9yX19jZXJ0Jykuc2xpZGVVcCgpO1xyXG59KSJdfQ==
