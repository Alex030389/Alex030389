svg4everybody();

// ============================================================ footer
// (function () {
//   var isIE11 = !!window.MSInputMethodContext && !!document.documentMode;

//   var stickFooter = function () {
//     var FOOTER = document.querySelector('footer');
//     var MAIN = document.querySelector('.content');
//     var BODY = document.querySelector('body');
//     var footerHeight = FOOTER.offsetHeight;
//     BODY.style.position = 'relative';
//     MAIN.style.marginBottom = footerHeight + 'px';
//     FOOTER.style.position = 'absolute';
//     FOOTER.style.bottom = '0';
//     FOOTER.style.left = '0';
//     FOOTER.style.width = '100%';
//   };

//   if (isIE11) {
//     stickFooter();
//     window.addEventListener('resize', stickFooter);
//   }
// })();

// ========================================================== hamburger

$('.header__hamburger-search-box .header__button-hamburger').click(function () {
  $('.header__main-nav').addClass('active');
  $('body').css('overflow-y', 'hidden');
})

$('.header__main-nav .header__button-hamburger').click(function () {
  $('.header__main-nav').removeClass('active');
  $('body').css('overflow-y', 'visible');
})

$(window).resize(function () {
  if ($('.header__hamburger-search-box').css('display') == 'none') {
    $('.header__main-nav').removeClass('active');
    $('body').css('overflow-y', 'visible');
  }
})


// =========================================================== search form

$('.header__button-open-search').click(function () {
  $('.header__bottom').toggleClass('active');
})

headerMainSearchVisible();

$(window).resize(headerMainSearchVisible);

function headerMainSearchVisible() {
  if ($('.header__top .header__search-form').css('display') == 'flex') {
    $('.header__bottom').removeClass('active');
  }
};

// search button start
let searchFormInput = document.querySelectorAll('.search-form__input');
let searchFormButton = document.querySelectorAll('.search-form__button');

for (let i = 0; i < searchFormInput.length; i++) {
  searchFormInput[i].addEventListener('focus', function () {
    searchFormButton[i].style.display = 'block';
  })
  searchFormInput[i].addEventListener('blur', function () {
    searchFormButton[i].style.display = 'none';
  })
}


// =============================================================== tabs

let tabItemArray = document.querySelectorAll('.tab__item');
let solContentList = document.querySelectorAll('.sol-content__list');

function activate(event, number) {

  for (let i = 0; i < tabItemArray.length; i++) {
    tabItemArray[i].classList.remove('active');
  }

  tabItemArray[number].classList.add('active');


  for (let ii = 0; ii < solContentList.length; ii++) {
    solContentList[ii].style.display = 'none';
  }
  solContentList[number].style.display = 'block';
}


// ather
$('form').prop('autocomplete', 'off');

// modal-deme submi
// $('.modal-demo .modal__btn').click(function() {
//   submit();
// })


// ================================================================= slick page index
if ($('.features .reviews__list').length) {
  reviewListSlick();
}

$(window).resize(function () {
  if ($('.features .reviews__list').length) {
    reviewListSlick();
  }
})

function reviewListSlick() {
  $('.features .reviews__list').slick({
    accessibility: false,
    arrows: false,
    dots: true,
    appendDots: $('.reviews__dots'),
    dotsClass: 'reviews__dots-list',
    responsive: [{
      breakpoint: 577,
      settings: "unslick"
    }]
  });
}






// =================================================== product

// modal
// $('.product__btn-cart').click(function() {
//   fadeInModal('.modal-discount');
// })

$('.product__btn-demo').click(function () {
  fadeInModal('.modal-demo');
})


function fadeInModal(modal) {
  $('body').css('overflow-y', 'hidden');

  $(modal).fadeIn(200);

  $('.modal__content').click(function (e) {
    e.stopPropagation();
  })

  $('.modal__close').click(function () {
    fadeOutModal();
  })

  $('.modal').click(function () {
    fadeOutModal();
  })

  function fadeOutModal() {
    $('.modal').fadeOut(200);
    $('body').css('overflow-y', 'scroll');
  }
}

// ============================================================== product checkbox
$('.product__tr').click(function (e) {
  e.preventDefault();
  $('.product__tr').removeClass('product__tr_select');
  $(this).addClass('product__tr_select');
  $(this).find('.product__radio')[0].checked = true;
})


// ================================================================ initSlick
initSlick('.sl-0');
initSlick('.sl-1');
initSlick('.sl-2');
initSlick('.sl-3');
initSlick('.sl-4');
initSlick('.sl-5');

function initSlick(sl) {
  let cl = '.courses__list';
  let slcl = sl + ' ' + cl;
  let sldots = sl + ' .reviews__dots'

  $(slcl).slick({
    accessibility: false,
    dots: true,
    // infinite: false,
    slidesToShow: 4,
    appendDots: sldots,
    dotsClass: 'reviews__dots-list',
    // prevArrow: '<button type="button" class="slick-prev"><img src="/public/images/icon/arrow.svg"></button>',
    // nextArrow: '<button type="button" class="slick-next"><img src="/public/images/icon/arrow.svg"></button>',
    prevArrow: '<button type="button" class="slick-prev"><img src="static/img/icon/arrow.svg"></button>',
    nextArrow: '<button type="button" class="slick-next"><img src="static/img/icon/arrow.svg"></button>',
    responsive: [{
        breakpoint: 1420,
        settings: {
          slidesToShow: 3,
        }
      },
      {
        breakpoint: 1121,
        settings: {
          slidesToShow: 2,
        }
      },
      {
        breakpoint: 780,
        settings: {
          slidesToShow: 2,
          arrows: false,
        }
      },
      {
        breakpoint: 651,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          arrows: false,
          centerPadding: '150px'
        }
      },
      {
        breakpoint: 610,
        settings: {
          slidesToShow: 1,
          centerMode: true,
          arrows: false,
          centerPadding: '130px'
        }
      },
      {
        breakpoint: 577,
        settings: {
          centerMode: true,
          slidesToShow: 2,
          arrows: false,
          centerPadding: '60px',
        }
      },
      {
        breakpoint: 520,
        settings: {
          centerMode: true,
          slidesToShow: 2,
          arrows: false,
          centerPadding: '30px',
        }
      },
      {
        breakpoint: 480,
        settings: {
          centerMode: true,
          slidesToShow: 1,
          arrows: false,
          centerPadding: '120px',
        }
      },

      {
        breakpoint: 440,
        settings: {
          centerMode: true,
          slidesToShow: 1,
          arrows: false,
          centerPadding: '27%',
        }
      },
      {
        breakpoint: 410,
        settings: {
          centerMode: true,
          slidesToShow: 1,
          arrows: false,
          centerPadding: '25%',
        }
      },
      {
        breakpoint: 380,
        settings: {
          centerMode: true,
          slidesToShow: 1,
          arrows: false,
          centerPadding: '22%',
        }
      },
      {
        breakpoint: 350,
        settings: {
          slidesToShow: 1,
          arrows: false,
          centerMode: true,
          centerPadding: '20%',
        }
      },
    ]
  })

}

initSlickV2('.sl2-0');

function initSlickV2(sl) {
  let cl = '.for-this__list';
  let slcl = sl + ' ' + cl;
  let sldots = sl + ' .reviews__dots'

  $(slcl).slick({
    accessibility: false,
    dots: true,
    slidesToShow: 6,
    // infinite: false,
    appendDots: sldots,
    dotsClass: 'reviews__dots-list',
    // prevArrow: '<button type="button" class="slick-prev"><img src="/public/images/icon/arrow.svg"></button>',
    // nextArrow: '<button type="button" class="slick-next"><img src="/public/images/icon/arrow.svg"></button>',
    prevArrow: '<button type="button" class="slick-prev"><img src="static/img/icon/arrow.svg"></button>',
    nextArrow: '<button type="button" class="slick-next"><img src="static/img/icon/arrow.svg"></button>',
    responsive: [{
        breakpoint: 1420,
        settings: {
          slidesToShow: 5,
        }
      },
      {
        breakpoint: 1231,
        settings: {
          slidesToShow: 4,
        }
      },
      {
        breakpoint: 998,
        settings: {
          slidesToShow: 3,
        }
      },
      {
        breakpoint: 780,
        settings: {
          slidesToShow: 3,
          arrows: false,
        }
      },
      {
        breakpoint: 651,
        settings: {
          slidesToShow: 2,
          arrows: false,
        }
      },
      {
        breakpoint: 431,
        settings: {
          slidesToShow: 1,
          arrows: false,
          // centerMode: true,
          // centerPadding: '100px'
        }
      },
    ]
  })

}


$('.reviews__dots-list li button').empty();

$(window).resize(function () {
  $('.reviews__dots-list li button').empty();
})


// обрезать строку

trimString(".for-this__h3", 65);

function trimString(string, stringLength) {
  $(string).text(function(i, text) {
    if (text.length >= stringLength) {
      stringLength -= 5;
      text = text.substring(0, stringLength);
      var lastIndex = text.lastIndexOf(" ");       // позиция последнего пробела
      text = text.substring(0, lastIndex) + '...'; // обрезаем до последнего слова
    }
  
    $(this).text(text);
  
  });
}




// rotate btn load more
$('.certific__btn-more').click(function () {
  $(this).addClass('active');

  setTimeout(function () {
    $(this).removeClass('active');
  }.bind(this), 2000);
})



// tab for-this
$('.for-this__list').on('click', '.for-this__item', function() {
  $('.for-this__item').removeClass('active');
  $(this).addClass('active');
  let idThisItem = $(this).data('id');

  switchTreckList(idThisItem);
});

function switchTreckList(id) {
  id += '';
  
  if($('.track').css('display') === 'none') {
    $('.track').fadeIn(400);
  }

  $('.track__list').hide();

  var trackList = '.track__list' + '[data-id=' +  id + ']';

  $(trackList).fadeIn(300);
};



//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsic3ZnNGV2ZXJ5Ym9keSgpO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IGZvb3RlclxyXG4vLyAoZnVuY3Rpb24gKCkge1xyXG4vLyAgIHZhciBpc0lFMTEgPSAhIXdpbmRvdy5NU0lucHV0TWV0aG9kQ29udGV4dCAmJiAhIWRvY3VtZW50LmRvY3VtZW50TW9kZTtcclxuXHJcbi8vICAgdmFyIHN0aWNrRm9vdGVyID0gZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgdmFyIEZPT1RFUiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvb3RlcicpO1xyXG4vLyAgICAgdmFyIE1BSU4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGVudCcpO1xyXG4vLyAgICAgdmFyIEJPRFkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XHJcbi8vICAgICB2YXIgZm9vdGVySGVpZ2h0ID0gRk9PVEVSLm9mZnNldEhlaWdodDtcclxuLy8gICAgIEJPRFkuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4vLyAgICAgTUFJTi5zdHlsZS5tYXJnaW5Cb3R0b20gPSBmb290ZXJIZWlnaHQgKyAncHgnO1xyXG4vLyAgICAgRk9PVEVSLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuLy8gICAgIEZPT1RFUi5zdHlsZS5ib3R0b20gPSAnMCc7XHJcbi8vICAgICBGT09URVIuc3R5bGUubGVmdCA9ICcwJztcclxuLy8gICAgIEZPT1RFUi5zdHlsZS53aWR0aCA9ICcxMDAlJztcclxuLy8gICB9O1xyXG5cclxuLy8gICBpZiAoaXNJRTExKSB7XHJcbi8vICAgICBzdGlja0Zvb3RlcigpO1xyXG4vLyAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHN0aWNrRm9vdGVyKTtcclxuLy8gICB9XHJcbi8vIH0pKCk7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IGhhbWJ1cmdlclxyXG5cclxuJCgnLmhlYWRlcl9faGFtYnVyZ2VyLXNlYXJjaC1ib3ggLmhlYWRlcl9fYnV0dG9uLWhhbWJ1cmdlcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAkKCcuaGVhZGVyX19tYWluLW5hdicpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdy15JywgJ2hpZGRlbicpO1xyXG59KVxyXG5cclxuJCgnLmhlYWRlcl9fbWFpbi1uYXYgLmhlYWRlcl9fYnV0dG9uLWhhbWJ1cmdlcicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAkKCcuaGVhZGVyX19tYWluLW5hdicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdy15JywgJ3Zpc2libGUnKTtcclxufSlcclxuXHJcbiQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gIGlmICgkKCcuaGVhZGVyX19oYW1idXJnZXItc2VhcmNoLWJveCcpLmNzcygnZGlzcGxheScpID09ICdub25lJykge1xyXG4gICAgJCgnLmhlYWRlcl9fbWFpbi1uYXYnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdy15JywgJ3Zpc2libGUnKTtcclxuICB9XHJcbn0pXHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gc2VhcmNoIGZvcm1cclxuXHJcbiQoJy5oZWFkZXJfX2J1dHRvbi1vcGVuLXNlYXJjaCcpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAkKCcuaGVhZGVyX19ib3R0b20nKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbn0pXHJcblxyXG5oZWFkZXJNYWluU2VhcmNoVmlzaWJsZSgpO1xyXG5cclxuJCh3aW5kb3cpLnJlc2l6ZShoZWFkZXJNYWluU2VhcmNoVmlzaWJsZSk7XHJcblxyXG5mdW5jdGlvbiBoZWFkZXJNYWluU2VhcmNoVmlzaWJsZSgpIHtcclxuICBpZiAoJCgnLmhlYWRlcl9fdG9wIC5oZWFkZXJfX3NlYXJjaC1mb3JtJykuY3NzKCdkaXNwbGF5JykgPT0gJ2ZsZXgnKSB7XHJcbiAgICAkKCcuaGVhZGVyX19ib3R0b20nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gc2VhcmNoIGJ1dHRvbiBzdGFydFxyXG5sZXQgc2VhcmNoRm9ybUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlYXJjaC1mb3JtX19pbnB1dCcpO1xyXG5sZXQgc2VhcmNoRm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWFyY2gtZm9ybV9fYnV0dG9uJyk7XHJcblxyXG5mb3IgKGxldCBpID0gMDsgaSA8IHNlYXJjaEZvcm1JbnB1dC5sZW5ndGg7IGkrKykge1xyXG4gIHNlYXJjaEZvcm1JbnB1dFtpXS5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcclxuICAgIHNlYXJjaEZvcm1CdXR0b25baV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgfSlcclxuICBzZWFyY2hGb3JtSW5wdXRbaV0uYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIGZ1bmN0aW9uICgpIHtcclxuICAgIHNlYXJjaEZvcm1CdXR0b25baV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9KVxyXG59XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IHRhYnNcclxuXHJcbmxldCB0YWJJdGVtQXJyYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFiX19pdGVtJyk7XHJcbmxldCBzb2xDb250ZW50TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zb2wtY29udGVudF9fbGlzdCcpO1xyXG5cclxuZnVuY3Rpb24gYWN0aXZhdGUoZXZlbnQsIG51bWJlcikge1xyXG5cclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRhYkl0ZW1BcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgdGFiSXRlbUFycmF5W2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgdGFiSXRlbUFycmF5W251bWJlcl0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblxyXG5cclxuICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgc29sQ29udGVudExpc3QubGVuZ3RoOyBpaSsrKSB7XHJcbiAgICBzb2xDb250ZW50TGlzdFtpaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9XHJcbiAgc29sQ29udGVudExpc3RbbnVtYmVyXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxufVxyXG5cclxuXHJcbi8vIGF0aGVyXHJcbiQoJ2Zvcm0nKS5wcm9wKCdhdXRvY29tcGxldGUnLCAnb2ZmJyk7XHJcblxyXG4vLyBtb2RhbC1kZW1lIHN1Ym1pXHJcbi8vICQoJy5tb2RhbC1kZW1vIC5tb2RhbF9fYnRuJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbi8vICAgc3VibWl0KCk7XHJcbi8vIH0pXHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gc2xpY2sgcGFnZSBpbmRleFxyXG5pZiAoJCgnLmZlYXR1cmVzIC5yZXZpZXdzX19saXN0JykubGVuZ3RoKSB7XHJcbiAgcmV2aWV3TGlzdFNsaWNrKCk7XHJcbn1cclxuXHJcbiQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gIGlmICgkKCcuZmVhdHVyZXMgLnJldmlld3NfX2xpc3QnKS5sZW5ndGgpIHtcclxuICAgIHJldmlld0xpc3RTbGljaygpO1xyXG4gIH1cclxufSlcclxuXHJcbmZ1bmN0aW9uIHJldmlld0xpc3RTbGljaygpIHtcclxuICAkKCcuZmVhdHVyZXMgLnJldmlld3NfX2xpc3QnKS5zbGljayh7XHJcbiAgICBhY2Nlc3NpYmlsaXR5OiBmYWxzZSxcclxuICAgIGFycm93czogZmFsc2UsXHJcbiAgICBkb3RzOiB0cnVlLFxyXG4gICAgYXBwZW5kRG90czogJCgnLnJldmlld3NfX2RvdHMnKSxcclxuICAgIGRvdHNDbGFzczogJ3Jldmlld3NfX2RvdHMtbGlzdCcsXHJcbiAgICByZXNwb25zaXZlOiBbe1xyXG4gICAgICBicmVha3BvaW50OiA1NzcsXHJcbiAgICAgIHNldHRpbmdzOiBcInVuc2xpY2tcIlxyXG4gICAgfV1cclxuICB9KTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gcHJvZHVjdFxyXG5cclxuLy8gbW9kYWxcclxuLy8gJCgnLnByb2R1Y3RfX2J0bi1jYXJ0JykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbi8vICAgZmFkZUluTW9kYWwoJy5tb2RhbC1kaXNjb3VudCcpO1xyXG4vLyB9KVxyXG5cclxuJCgnLnByb2R1Y3RfX2J0bi1kZW1vJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gIGZhZGVJbk1vZGFsKCcubW9kYWwtZGVtbycpO1xyXG59KVxyXG5cclxuXHJcbmZ1bmN0aW9uIGZhZGVJbk1vZGFsKG1vZGFsKSB7XHJcbiAgJCgnYm9keScpLmNzcygnb3ZlcmZsb3cteScsICdoaWRkZW4nKTtcclxuXHJcbiAgJChtb2RhbCkuZmFkZUluKDIwMCk7XHJcblxyXG4gICQoJy5tb2RhbF9fY29udGVudCcpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIH0pXHJcblxyXG4gICQoJy5tb2RhbF9fY2xvc2UnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBmYWRlT3V0TW9kYWwoKTtcclxuICB9KVxyXG5cclxuICAkKCcubW9kYWwnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICBmYWRlT3V0TW9kYWwoKTtcclxuICB9KVxyXG5cclxuICBmdW5jdGlvbiBmYWRlT3V0TW9kYWwoKSB7XHJcbiAgICAkKCcubW9kYWwnKS5mYWRlT3V0KDIwMCk7XHJcbiAgICAkKCdib2R5JykuY3NzKCdvdmVyZmxvdy15JywgJ3Njcm9sbCcpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gcHJvZHVjdCBjaGVja2JveFxyXG4kKCcucHJvZHVjdF9fdHInKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICAkKCcucHJvZHVjdF9fdHInKS5yZW1vdmVDbGFzcygncHJvZHVjdF9fdHJfc2VsZWN0Jyk7XHJcbiAgJCh0aGlzKS5hZGRDbGFzcygncHJvZHVjdF9fdHJfc2VsZWN0Jyk7XHJcbiAgJCh0aGlzKS5maW5kKCcucHJvZHVjdF9fcmFkaW8nKVswXS5jaGVja2VkID0gdHJ1ZTtcclxufSlcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IGluaXRTbGlja1xyXG5pbml0U2xpY2soJy5zbC0wJyk7XHJcbmluaXRTbGljaygnLnNsLTEnKTtcclxuaW5pdFNsaWNrKCcuc2wtMicpO1xyXG5pbml0U2xpY2soJy5zbC0zJyk7XHJcbmluaXRTbGljaygnLnNsLTQnKTtcclxuaW5pdFNsaWNrKCcuc2wtNScpO1xyXG5cclxuZnVuY3Rpb24gaW5pdFNsaWNrKHNsKSB7XHJcbiAgbGV0IGNsID0gJy5jb3Vyc2VzX19saXN0JztcclxuICBsZXQgc2xjbCA9IHNsICsgJyAnICsgY2w7XHJcbiAgbGV0IHNsZG90cyA9IHNsICsgJyAucmV2aWV3c19fZG90cydcclxuXHJcbiAgJChzbGNsKS5zbGljayh7XHJcbiAgICBhY2Nlc3NpYmlsaXR5OiBmYWxzZSxcclxuICAgIGRvdHM6IHRydWUsXHJcbiAgICAvLyBpbmZpbml0ZTogZmFsc2UsXHJcbiAgICBzbGlkZXNUb1Nob3c6IDQsXHJcbiAgICBhcHBlbmREb3RzOiBzbGRvdHMsXHJcbiAgICBkb3RzQ2xhc3M6ICdyZXZpZXdzX19kb3RzLWxpc3QnLFxyXG4gICAgLy8gcHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1wcmV2XCI+PGltZyBzcmM9XCIvcHVibGljL2ltYWdlcy9pY29uL2Fycm93LnN2Z1wiPjwvYnV0dG9uPicsXHJcbiAgICAvLyBuZXh0QXJyb3c6ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNsaWNrLW5leHRcIj48aW1nIHNyYz1cIi9wdWJsaWMvaW1hZ2VzL2ljb24vYXJyb3cuc3ZnXCI+PC9idXR0b24+JyxcclxuICAgIHByZXZBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stcHJldlwiPjxpbWcgc3JjPVwic3RhdGljL2ltZy9pY29uL2Fycm93LnN2Z1wiPjwvYnV0dG9uPicsXHJcbiAgICBuZXh0QXJyb3c6ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNsaWNrLW5leHRcIj48aW1nIHNyYz1cInN0YXRpYy9pbWcvaWNvbi9hcnJvdy5zdmdcIj48L2J1dHRvbj4nLFxyXG4gICAgcmVzcG9uc2l2ZTogW3tcclxuICAgICAgICBicmVha3BvaW50OiAxNDIwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogMTEyMSxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDc4MCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA2NTEsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgICAgY2VudGVyUGFkZGluZzogJzE1MHB4J1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDYxMCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMTMwcHgnXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogNTc3LFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICc2MHB4JyxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA1MjAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDIsXHJcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgICAgY2VudGVyUGFkZGluZzogJzMwcHgnLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDQ4MCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMTIwcHgnLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA0NDAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgICAgY2VudGVyUGFkZGluZzogJzI3JScsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogNDEwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICAgIGNlbnRlclBhZGRpbmc6ICcyNSUnLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDM4MCxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgY2VudGVyTW9kZTogdHJ1ZSxcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnMjIlJyxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiAzNTAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgY2VudGVyUGFkZGluZzogJzIwJScsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgXVxyXG4gIH0pXHJcblxyXG59XHJcblxyXG5pbml0U2xpY2tWMignLnNsMi0wJyk7XHJcblxyXG5mdW5jdGlvbiBpbml0U2xpY2tWMihzbCkge1xyXG4gIGxldCBjbCA9ICcuZm9yLXRoaXNfX2xpc3QnO1xyXG4gIGxldCBzbGNsID0gc2wgKyAnICcgKyBjbDtcclxuICBsZXQgc2xkb3RzID0gc2wgKyAnIC5yZXZpZXdzX19kb3RzJ1xyXG5cclxuICAkKHNsY2wpLnNsaWNrKHtcclxuICAgIGFjY2Vzc2liaWxpdHk6IGZhbHNlLFxyXG4gICAgZG90czogdHJ1ZSxcclxuICAgIHNsaWRlc1RvU2hvdzogNixcclxuICAgIC8vIGluZmluaXRlOiBmYWxzZSxcclxuICAgIGFwcGVuZERvdHM6IHNsZG90cyxcclxuICAgIGRvdHNDbGFzczogJ3Jldmlld3NfX2RvdHMtbGlzdCcsXHJcbiAgICAvLyBwcmV2QXJyb3c6ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInNsaWNrLXByZXZcIj48aW1nIHNyYz1cIi9wdWJsaWMvaW1hZ2VzL2ljb24vYXJyb3cuc3ZnXCI+PC9idXR0b24+JyxcclxuICAgIC8vIG5leHRBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stbmV4dFwiPjxpbWcgc3JjPVwiL3B1YmxpYy9pbWFnZXMvaWNvbi9hcnJvdy5zdmdcIj48L2J1dHRvbj4nLFxyXG4gICAgcHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1wcmV2XCI+PGltZyBzcmM9XCJzdGF0aWMvaW1nL2ljb24vYXJyb3cuc3ZnXCI+PC9idXR0b24+JyxcclxuICAgIG5leHRBcnJvdzogJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwic2xpY2stbmV4dFwiPjxpbWcgc3JjPVwic3RhdGljL2ltZy9pY29uL2Fycm93LnN2Z1wiPjwvYnV0dG9uPicsXHJcbiAgICByZXNwb25zaXZlOiBbe1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDE0MjAsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogNSxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiAxMjMxLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogOTk4LFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgYnJlYWtwb2ludDogNzgwLFxyXG4gICAgICAgIHNldHRpbmdzOiB7XHJcbiAgICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGJyZWFrcG9pbnQ6IDY1MSxcclxuICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBicmVha3BvaW50OiA0MzEsXHJcbiAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICAvLyBjZW50ZXJNb2RlOiB0cnVlLFxyXG4gICAgICAgICAgLy8gY2VudGVyUGFkZGluZzogJzEwMHB4J1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIF1cclxuICB9KVxyXG5cclxufVxyXG5cclxuXHJcbiQoJy5yZXZpZXdzX19kb3RzLWxpc3QgbGkgYnV0dG9uJykuZW1wdHkoKTtcclxuXHJcbiQod2luZG93KS5yZXNpemUoZnVuY3Rpb24gKCkge1xyXG4gICQoJy5yZXZpZXdzX19kb3RzLWxpc3QgbGkgYnV0dG9uJykuZW1wdHkoKTtcclxufSlcclxuXHJcblxyXG4vLyDQvtCx0YDQtdC30LDRgtGMINGB0YLRgNC+0LrRg1xyXG5cclxudHJpbVN0cmluZyhcIi5mb3ItdGhpc19faDNcIiwgNjUpO1xyXG5cclxuZnVuY3Rpb24gdHJpbVN0cmluZyhzdHJpbmcsIHN0cmluZ0xlbmd0aCkge1xyXG4gICQoc3RyaW5nKS50ZXh0KGZ1bmN0aW9uKGksIHRleHQpIHtcclxuICAgIGlmICh0ZXh0Lmxlbmd0aCA+PSBzdHJpbmdMZW5ndGgpIHtcclxuICAgICAgc3RyaW5nTGVuZ3RoIC09IDU7XHJcbiAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBzdHJpbmdMZW5ndGgpO1xyXG4gICAgICB2YXIgbGFzdEluZGV4ID0gdGV4dC5sYXN0SW5kZXhPZihcIiBcIik7ICAgICAgIC8vINC/0L7Qt9C40YbQuNGPINC/0L7RgdC70LXQtNC90LXQs9C+INC/0YDQvtCx0LXQu9CwXHJcbiAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCBsYXN0SW5kZXgpICsgJy4uLic7IC8vINC+0LHRgNC10LfQsNC10Lwg0LTQviDQv9C+0YHQu9C10LTQvdC10LPQviDRgdC70L7QstCwXHJcbiAgICB9XHJcbiAgXHJcbiAgICAkKHRoaXMpLnRleHQodGV4dCk7XHJcbiAgXHJcbiAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8vIHJvdGF0ZSBidG4gbG9hZCBtb3JlXHJcbiQoJy5jZXJ0aWZpY19fYnRuLW1vcmUnKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgfS5iaW5kKHRoaXMpLCAyMDAwKTtcclxufSlcclxuXHJcblxyXG5cclxuLy8gdGFiIGZvci10aGlzXHJcbiQoJy5mb3ItdGhpc19fbGlzdCcpLm9uKCdjbGljaycsICcuZm9yLXRoaXNfX2l0ZW0nLCBmdW5jdGlvbigpIHtcclxuICAkKCcuZm9yLXRoaXNfX2l0ZW0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgbGV0IGlkVGhpc0l0ZW0gPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XHJcblxyXG4gIHN3aXRjaFRyZWNrTGlzdChpZFRoaXNJdGVtKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBzd2l0Y2hUcmVja0xpc3QoaWQpIHtcclxuICBpZCArPSAnJztcclxuICBcclxuICBpZigkKCcudHJhY2snKS5jc3MoJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKSB7XHJcbiAgICAkKCcudHJhY2snKS5mYWRlSW4oNDAwKTtcclxuICB9XHJcblxyXG4gICQoJy50cmFja19fbGlzdCcpLmhpZGUoKTtcclxuXHJcbiAgdmFyIHRyYWNrTGlzdCA9ICcudHJhY2tfX2xpc3QnICsgJ1tkYXRhLWlkPScgKyAgaWQgKyAnXSc7XHJcblxyXG4gICQodHJhY2tMaXN0KS5mYWRlSW4oMzAwKTtcclxufTtcclxuXHJcblxyXG4iXX0=
